<!DOCTYPE html>
<head>    
    <link rel="stylesheet" type="text/css" href="portfolio_style.css">
    <title>Portfolio and final project</title>

    <!-- This is a link to the vega-lite which we're using to make graphs -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

    <style>
        #chartGrid {
            display: flex;
        }
        
    </style>
</head>

<body>
    <h1 class="big">  JI Piquer PP434 Project
   
    </h1>
    <p style="margin-top: 0px; color: darkblue"> Juan I. Piquer </p>
    <div class="links">
        <a href="index.html">  Main</a> &nbsp;&nbsp;&nbsp;
        <a href="portfolio.html">  Portfolio </a> &nbsp;&nbsp;&nbsp;
        <a href="project.html">  Project  </a> 
    </div>

    <h3 class="small"> 
        Final project page for PP434: Data Visualization course at LSE AT 2024
    </h3> 

        <!-- 1. Aims -->
    <section>
            <h2> 1. Aims </h2>
            <p style="margin-top: -10px">  
                The aim of this project is to conduct an exploratory analysis of the 
                relationship between income and political leaning in the recent local 
                elections in Chile.  <br><br>

                Local elections in Chile are generally considered the most 
                representative of the distribution of support for political parties in 
                the country. This is because other elections have a smaller magnitude of 
                seats, leading to a more concentrated vote. 
                Municipal councils across the country have a magnitude of between 6 and 10 seats 
                and are elected simultaneously nationwide. For this reason, local elections 
                provide the best opportunity to analyze voter behavior at the lowest 
                level possible while covering the entire population. <br><br>

                Political preferences are known to be influenced by a wide range of factors, 
                and attributing them solely to socioeconomic class may be an oversimplification. 
                Nevertheless, it is important to examine the relationship, if any, between income 
                levels and political support at a given moment to gain a better understanding of the 
                distribution of citizens policy preferences.                
            </p>
            <br>
    </section>


    <!-- 2. Data Used -->
    <section>
        <h2> 2. Data used </h2>
        <p>
            The data used in this analysis includes election results obtained from the Electoral Service's website 
            and the poverty index sourced from the Data Repository of the Ministry of Social Services. 
            The poverty index can be accessed at 
            <a href="https://bidat.midesof.cl/details/ficha/dataset/b317bf52-693e-44a9-b75e-ffaa72b9482d/page_search/html" target="_blank">this link</a>, 
            and the election results data are available at 
            <a href="https://provisorios.servel.cl" target="_blank">this link</a>.
        </p>
        <p>
            The full code for cleaning, merging and charting is provided in the notebook 
            <code>project_assets/project_pipeline.ipynb</code> and the charts folder in the repository.
        </p>
        <h3>Data Overview</h3>
        <p>
            The electoral data is organized at the row level by candidate and voting table. It includes data for 
            18,000 candidates and 40,000 voting tables, resulting in a total of 2.6 million rows. 
            This data is then processed through the following steps:
        </p>
        <ol>
            <li>
                <strong>Manual Labeling</strong>: Each coalition list is manually labeled as either “opposition” or “government,” 
                based on their known allegiances.
            </li>
            <li>
                <strong>Aggregation</strong>: All votes for the opposition and government are summed at the municipal 
                (comunal) level, creating a data frame with 365 rows (one for each comuna). 
                The total votes are then transformed into vote shares for each group by comuna.
            </li>
        </ol>
        <p>
            After these steps, the data is merged with the poverty index, which is available at the municipal level 
            and includes total population data.
        </p>

    </section>

    <!-- 3. Graphs -->

    <section>
        <h2> 3. Graphs </h2>    

    <h3> Chart 1 </h3>
    <p style="margin-top: 1px">  
        This chart is a scatter plot of comunas by poverty index and opposition vote share,
        with a slider to trim comunas by population max and min values.
       </p>

    <figure id="Location1"></figure> 

    <h3>Chart 2 </h3>
    <p style="margin-top: 1px">  
        This chart plots the opposition share of votes distribution by binned poverty index.
        It shows the heterogenity in variance for different poverty levels.
        <br><br>
        Bin 1: Poorer; Bin 4: less Poorer. Bin limits at quartiles of poverty index
    <figure id="Location2"></figure> 

    <h3> Chart 3 </h3>
    <p style="margin-top: 1px">  
        This chart plots the density of Comunas over opposition vote share. It
        has a slider to trim the tails of the Poverty Index rates, to look how the distribution 
        changes for different poverty levels.        <br><br>

    <figure id="Location3"></figure> 
 

    <!-- 4. Analyisis and Challenges -->
    <section>
        <h2> 4. Analyisis </h2>

        <p style="margin-top: -10px">  
        <br>
        <p>
            The Electoral Law in Chile recently changed from voluntary to mandatory voting. 
            The first results under the new rules, from the 2022 and 2023 elections, 
            showed greater-than-expected participation from poorer populations and better-than-expected results for the opposition.
        </p>
        <p>
            The transition from voluntary participation to mandatory universal voting 
            necessitates a re-evaluation of all fundamental assumptions about the electorate and electoral outcomes, 
            and the results have confirmed this need.
        </p>
        <h3>Key Questions and Hypotheses</h3>
        <p>
            One of the central questions is: what are the electoral preferences of the new voters? 
            Given the strong performance of the opposition, an initial hypothesis is that new voters are 
            more likely to vote for the opposition (currently, the right and center-right) than traditional voters.
        </p>
        <h3>Insights from Data</h3>
        <p>
            The charts indicate that this hypothesis requires further analysis. 
            While the opposition holds an absolute majority in most comunas, 
            the data suggests it would be a mistake to assume that 
            the right performs better than the left among poorer individuals.
        </p>
        <p>
            The charts show a mildly negative correlation between poverty levels and support for the opposition. 
            Additionally, there are heterogeneities in the distribution, 
            with a wider range of electoral outcomes in poorer comunas.
        </p>
    </p>
    <section>

        <br><br>

    <!-- 5. Conclusions -->
    <section>
        <h2>5. Next Steps</h2>
        <p style="margin-top: -10px">
            The exercise shows there is more than enough material to continue the analysis. 
            My tentative roadmap for further exploration is as follows:
        </p>
        <ol>
            <li><strong>Granularity of the 2024 Election:</strong>
                <ol>
                    <li><strong>Political Detail:</strong> 
                        Conduct a binary analysis, but also explore coalition and party-level analyses. 
                        Although this has lower statistical power, it is worth exploring how far the data can be stretched. 
                        This should include unsupervised learning methods, such as clustering over principal components 
                        using party vote share by comuna, to identify groups of comunas based on their political preference basket.
                    </li>
                    <li><strong>Geographical Detail:</strong> 
                        Analyze heterogeneities by region and use census data to examine trends below the comuna level.
                    </li>
                </ol>
            </li>
            <li><strong>Time Series:</strong> 
                Analyze the results alongside previous electoral results and corresponding poverty data 
                to assess changes and stabilities over time.
            </li>
            <li><strong>Predictors and Model testing:</strong> 
                Test relevant variables and models using past election results as training data
            </li>
            <li><strong>Adding Sociodemographic Data:</strong> 
                Incorporate additional sociodemographic data from the census and other surveys for deeper insights.
            </li>
        </ol>
    </section>
</body>

    <br><br><br><br><br><br>


    <script>

        let figure_1 = "charts/chart_10-1.json";
        let figure_2 = "charts/chart_9-2.json";
        let figure_3 = "charts/chart_10-2.json";  


        vegaEmbed('#Location1', figure_1)
        vegaEmbed('#Location2', figure_2)
        vegaEmbed('#Location3', figure_3) 



    </script>

</body>
    
</html>